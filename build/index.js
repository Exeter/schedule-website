(function(){var a,b,c,d,e,f,g;e=864e5,f=500,c=252e5,b=72e6,a=b-c,d=function(){function d(a,b){this.wrapper=a,this.data=b,this.wrapper.append(this.el=$("<div>").css({display:"table-row",height:f+"px"})),this.render()}return d.prototype.render=function(){var d,g,h,i;return h=new Date,i=h.getYear()+1900,g=h.getMonth(),d=+new Date(i,g,h.getDate()-h.getDay(),0,0,0),this.data(d,d+7*e,function(g){return function(h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;for(m=function(){var a,b;for(b=[],a=1;7>=a;a++)b.push([]);return b}(),r=0,v=h.length;v>r;r++)n=h[r],null!=(z=m[Math.floor((n.start-d)/864e5)])&&z.push(n);for(j=[],o=s=0,w=m.length;w>s;o=++s)for(k=m[o],l=d+o*e,j.push(i=$("<div>").css({display:"table-cell",width:"100px",position:"relative"})),t=0,x=k.length;x>t;t++)n=k[t],q=n.start-l-c,p=l+b-n.end,i.append($("<div>").css({position:"absolute",width:"100px",top:q*f/a+"px",bottom:p*f/a+"px","background-color":n.color}).text(n.title));for(g.el.html(""),A=[],u=0,y=j.length;y>u;u++)i=j[u],A.push(g.el.append(i));return A}}(this))},d}(),g=new d($("#calendar"),function(a,b,c){return $.ajax({url:"/events",data:{from:a,to:b},dataType:"json",success:function(d){return console.log(a,b,d),c(d.result)}})})}).call(this);