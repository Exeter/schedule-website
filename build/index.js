(function(){var a,b,c,d,e,f,g,h;e=864e5,c=252e5,b=756e5,a=b-c,g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["January","February","March","April","June","July","August","September","October","November","December"],d=function(){function d(a,b){this.wrapper=a,this.data=b,this.tableHeight=this.wrapper.height(),this.wrapper.append(this.el=$("<div>").css({display:"table-row",overflow:"hidden",height:this.tableHeight+"px"})),this.render(10)}return d.prototype.render=function(d,f){var i,j,k;return null==d&&(d=7),j=new Date,null==f&&(k=j.getYear()+1900,i=j.getMonth(),f=+new Date(k,i,j.getDate()-j.getDay(),0,0,0)),this.data(f,f+e*d,function(i){return function(k){var l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;for(p=function(){var a,b;for(b=[],a=1;d>=1?d>=a:a>=d;d>=1?a++:a--)b.push([]);return b}(),u=0,y=k.length;y>u;u++)q=k[u],null!=(C=p[Math.floor((q.start-f)/864e5)])&&C.push(q);for(m=[],r=v=0,z=p.length;z>v;r=++v)for(n=p[r],o=f+r*e,m.push(l=$("<div>").css({display:"table-cell",width:"150px",padding:"2px",position:"relative","text-align":"center",background:r===j.getDay()?"#FFD":r%2===1?"#FFF":"#EEE"})),l.append($("<div>").css({position:"absolute",top:"0px",left:"0px",right:"0px"}).html("<div>"+g[new Date(f+e*r).getDay()]+"</div>\n<div>"+h[new Date(f+e*r).getMonth()].slice(0,3)+" "+new Date(f+e*r).getDate()+"</div>")),w=0,A=n.length;A>w;w++)q=n[w],t=q.start-o-c,s=o+b-q.end,l.append($("<div>").css({position:"absolute",width:"100%",top:t*i.tableHeight/a+"px",bottom:s*i.tableHeight/a+"px","background-color":q.color}).html("<div class='begin-time'>"+new Date(q.start).getHours()+":"+new Date(q.start).getMinutes()+"</div>\n<div>"+q.title+"</div>\n<div class='end-time'>"+new Date(q.end).getHours()+":"+new Date(q.end).getMinutes()+"</div>"));for(i.el.html(""),D=[],x=0,B=m.length;B>x;x++)l=m[x],D.push(i.el.append(l));return D}}(this))},d}(),f=new d($("#calendar"),function(a,b,c){return $.ajax({url:"/events",data:{from:a,to:b},dataType:"json",success:function(d){return console.log(a,b,d),c(d.result)}})})}).call(this);